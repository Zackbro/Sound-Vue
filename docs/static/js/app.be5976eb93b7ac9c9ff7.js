webpackJsonp([1],[,,,,,,function(t,a,e){"use strict";e.d(a,"k",function(){return s}),e.d(a,"f",function(){return i}),e.d(a,"i",function(){return n}),e.d(a,"g",function(){return r}),e.d(a,"h",function(){return o}),e.d(a,"j",function(){return c}),e.d(a,"e",function(){return l}),e.d(a,"b",function(){return u}),e.d(a,"a",function(){return d}),e.d(a,"c",function(){return v}),e.d(a,"d",function(){return p});var s="ADD_TO_CART",i="CHANGE_DATA",n="CHANGE_NEXT_DATA",r="FORMAT_IMG_URL",o="FORMAT_SONG_TITLE",c="RECOVER_SCROLL",l="CLEAR_DATA",u="GET_PLAY_NOW",d="GET_PLAYLIST",v="CHANGE_TO_PLAY",p="CHANGE_TO_PAUSE"},,,,,,,,,,,,function(t,a,e){var s=e(1)(e(54),e(83),null,null);t.exports=s.exports},,function(t,a,e){"use strict";var s=e(4),i=e(85),n=e(73),r=e.n(n);s.a.use(i.a),a.a=new i.a({routes:[{path:"/",name:"Home",component:r.a},{path:"/songs/:id",name:"Style",component:r.a}]})},function(t,a,e){"use strict";var s=e(4),i=e(3),n=e(44),r=e(46),o=e(47),c=e(48);s.a.use(i.b);a.a=new i.b.Store({actions:n,getters:r,modules:{card:o.a,player:c.a},strict:!1})},function(t,a){},,function(t,a,e){var s=e(1)(e(49),e(81),null,null);t.exports=s.exports},,,,,,,,,,,,,,,,,,,function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e(4),i=e(24),n=e.n(i),r=e(20),o=e(21),c=e(23),l=e.n(c),u=e(22);e.n(u);s.a.use(l.a),s.a.config.productionTip=!1,new s.a({el:"#app",store:o.a,router:r.a,template:"<App/>",components:{App:n.a}})},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e(6);e.d(a,"addToCart",function(){return i});var i=function(t,a){var e=t.commit;a.inventory>0&&e(s.k,{id:a.id})}},function(t,a,e){"use strict";e.d(a,"a",function(){return s}),e.d(a,"b",function(){return i});var s="https://api.soundcloud.com/tracks?linked_partitioning=1&client_id=e582b63d83a5fb2997d1dbf2f62705da&limit=50&offset=0",i={chill:"chill",deep:"deep",dubstep:"dubstep",house:"house",progressive:"progressive",tech:"tech",trance:"trance",tropical:"tropical"}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),e.d(a,"cartProducts",function(){return s});var s=function(t){return t.cart.added.map(function(a){var e=a.id,s=a.quantity,i=t.products.all.find(function(t){return t.id===e});return{title:i.title,price:i.price,quantity:s}})}},function(t,a,e){"use strict";var s,i=e(13),n=e.n(i),r=e(6),o=e(45),c=e(25),l=e.n(c),u={cardList:[],nextHref:"",nextData:[],scrollLoading:!1,typeNow:"chill"},d={cardList:function(t){return t.cardList},scrollLoading:function(t){return t.scrollLoading},typeNow:function(t){return t.typeNow}},v={getData:function(t,a){var e=t.commit;console.log(a),e(r.e,{type:a}),l.a.get(o.a+"&tags="+o.b[a]+"%20house").then(function(t){t.data.collection.forEach(function(t){t.isActive=!1,t.isPlaying=!1}),console.log(t.data.collection),e(r.f,{list:t.data.collection,href:t.data.next_href}),e(r.g),e(r.h)},function(t){console.log("请求出错")})},loadMore:function(t){var a=t.commit;l.a.get(u.nextHref).then(function(t){t.data.collection.forEach(function(t){t.isActive=!1,t.isPlaying=!1}),a(r.i,{data:t.data.collection,href:t.data.next_href}),a(r.g,{img:t.data.collection})})},loadStop:function(t){(0,t.commit)(r.j)},clear:function(t){(0,t.commit)(r.e)}},p=(s={},n()(s,r.f,function(t,a){var e=a.list,s=a.href;t.cardList=e,t.nextData=e,t.nextHref=s}),n()(s,r.g,function(t){t.nextData.forEach(function(t){t.artwork_url&&(t.artwork_url=t.artwork_url.replace("large","t300x300"))})}),n()(s,r.h,function(t){t.cardList.forEach(function(t){if(!t.title)return"";var a=t.title.replace("–","-").split(" - ");t.title=a[a.length-1].split(" (")[0]})}),n()(s,r.i,function(t,a){var e=a.data,s=a.href;console.log("next"),t.nextData=e,t.cardList=t.cardList.concat(e),t.nextHref=s,t.scrollLoading=!1}),n()(s,r.j,function(t){t.scrollLoading=!0}),n()(s,r.e,function(t,a){var e=a.type;t.cardList=[],t.typeNow=e}),s);a.a={state:u,getters:d,actions:v,mutations:p}},function(t,a,e){"use strict";var s,i=e(13),n=e.n(i),r=e(6),o={playList:"",playNow:{user:{username:""}},playStatus:!1,activeNum:0},c={playStatus:function(t){return t.playStatus},playNow:function(t){return t.playNow}},l={getPlayData:function(t,a){var e=t.commit,s=t.rootState;e(r.a,{rootState:s}),e(r.b,{index:a})},play:function(t,a){var e=t.commit,s=t.rootState;e(r.c,{rootState:s,index:a})},pause:function(t){var a=t.commit,e=t.rootState;a(r.d,{rootState:e})}},u=(s={},n()(s,r.a,function(t,a){var e=a.rootState;t.playList=e.card.cardList}),n()(s,r.b,function(t,a){var e=a.index;t.playNow=t.playList[e]}),n()(s,r.c,function(t,a){var e=a.rootState,s=a.index;t.playStatus=!0,console.log(s),console.log(t.activeNum),t.activeNum!==s||0===t.activeNum?(console.log(e.card.cardList[t.activeNum]),e.card.cardList[t.activeNum].isActive=!1,e.card.cardList[t.activeNum].isPlaying=!1,e.card.cardList[t.activeNum].isPlaying||(t.activeNum=s),e.card.cardList[s].isActive=!0,e.card.cardList[s].isPlaying=!0):(console.log("test"),e.card.cardList[s].isPlaying=!0)}),n()(s,r.d,function(t,a){var e=a.rootState;t.playStatus=!1,e.card.cardList[t.activeNum].isPlaying=!1}),s);a.a={state:o,getters:c,actions:l,mutations:u}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e(74),i=e.n(s),n=e(77),r=e.n(n),o=e(75),c=e.n(o);a.default={name:"app",components:{CNav:i.a,Toolbar:r.a,Player:c.a}}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e(76),i=e.n(s),n=e(18),r=e.n(n);a.default={name:"hello",data:function(){return{type:"chill"}},watch:{$route:function(t,a){console.log(t),this.type=t.params.id,this.getData(this.type)}},mounted:function(){this.getData(this.type)},methods:{getData:function(t){console.log("getData"),this.$store.dispatch("getData",t)}},components:{Card:i.a,Spinner:r.a}}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={data:function(){return{msg:"Welcome to Your Vue.js App"}}}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e(3);a.default={data:function(){return{playerShow:!1,currentTime:"00:00",duration:"00:00",playNum:0,clear:{},durationBar:0,barWidth:0,percent:0,startPosition:0,moviePosition:0}},mounted:function(){console.log(this.$refs.playerSeekBar.offsetWidth)},methods:{play:function(t){console.log(t),this.$store.dispatch("play",t),this.$nextTick(function(){console.log("playzhix"),this.$refs.audio.play(),this.timeChange(),this.playNum=t,this.barWidth=this.$refs.playerSeekBar.offsetWidth}),this.playerShow||(this.playerShow=!0)},pause:function(t){this.$store.dispatch("pause"),this.$refs.audio.pause(),clearInterval(this.clear),console.log("pause")},timeFormat:function(t){var a=parseInt(t/60),e=parseInt(t%60);return a=a>10?a:"0"+a,e=e>=10?e:"0"+e,a+":"+e},timeChange:function(){var t=this;this.clear=setInterval(function(){t.currentTime=t.timeFormat(t.$refs.audio.currentTime),isNaN(t.$refs.audio.duration)?t.duration="00:00":("00:00"===t.duration&&(t.duration=t.timeFormat(t.$refs.audio.duration)),t.durationBar=t.$refs.audio.currentTime/t.$refs.audio.duration*100,100===t.durationBar&&(clearInterval(t.clear),t.playNext(t.playNum+1)))},1e3)},progressChange:function(t){this.startPosition=this.$refs.playerSeekBar.offsetLeft,this.moviePosition=t.clientX,this.percent=(this.moviePosition-this.startPosition)/this.barWidth,this.$refs.audio.currentTime=this.$refs.audio.duration*this.percent,this.currentTime=this.timeFormat(this.$refs.audio.currentTime),this.durationBar=this.$refs.audio.currentTime/this.$refs.audio.duration*100},playNext:function(t){this.playNum=t,this.$store.dispatch("getPlayData",t),this.play(t)}},computed:e.i(s.a)(["playNow","playStatus"])}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e(3),i=e(18),n=e.n(i);a.default={data:function(){return{index:""}},methods:{loadMore:function(){this.$store.dispatch("loadStop"),this.$store.dispatch("loadMore"),console.log("执行loadmore")},playHandler:function(t){this.index=t,this.$store.dispatch("getPlayData",t),console.log(this.$parent),this.$parent.$parent.$children.forEach(function(a){a.$refs.audio&&a.play(t)})},pauseHandler:function(t){this.$parent.$children.forEach(function(a){a.$refs.audio&&a.pause(t)})},tooglePlay:function(t){console.log("test"),this.$nextTick(function(){this.$store.state.player.playStatus&&this.index===t?this.pauseHandler(t):this.playHandler(t)})}},computed:e.i(s.a)(["cardList","scrollLoading","playStatus"]),components:{spinner:n.a}}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e(3);a.default={data:function(){return{}},computed:e.i(s.a)(["typeNow"])}},,,,,,,,,,,,,,,,,,function(t,a,e){var s=e(1)(e(50),e(79),null,null);t.exports=s.exports},function(t,a,e){var s=e(1)(e(51),e(84),null,null);t.exports=s.exports},function(t,a,e){var s=e(1)(e(52),e(78),null,null);t.exports=s.exports},function(t,a,e){var s=e(1)(e(53),e(82),null,null);t.exports=s.exports},function(t,a,e){var s=e(1)(e(55),e(80),null,null);t.exports=s.exports},function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.playerShow,expression:"playerShow"}],staticClass:"player"},[e("audio",{ref:"audio",attrs:{src:t.playNow.stream_url+"?client_id=e582b63d83a5fb2997d1dbf2f62705da"}}),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"player-main"},[e("div",{staticClass:"player-section player-info"},[e("img",{staticClass:"player-image",attrs:{alt:"song artwork",src:t.playNow.artwork_url}}),t._v(" "),e("div",{staticClass:"song-card-details"},[e("a",{staticClass:"song-card-title",attrs:{href:"",title:t.playNow.title}},[t._v(t._s(t.playNow.title))]),t._v(" "),e("a",{staticClass:"song-card-user-username",attrs:{href:"/#/users/6433865",title:"Lulleaux"}},[t._v(t._s(t.playNow.user.username))])])]),t._v(" "),e("div",{staticClass:"player-section"},[e("div",{staticClass:"player-button",on:{click:function(a){t.playNext(t.playNum-1)}}},[e("i",{staticClass:"icon ion-ios-rewind"})]),t._v(" "),e("div",{staticClass:"player-button"},[e("i",{directives:[{name:"show",rawName:"v-show",value:!t.playStatus,expression:"!playStatus"}],staticClass:"icon ion-ios-play",on:{click:function(a){t.play(t.playNum)}}}),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:t.playStatus,expression:"playStatus"}],staticClass:"icon ion-ios-pause",on:{click:function(a){t.pause(t.playNum)}}})]),t._v(" "),e("div",{staticClass:"player-button",on:{click:function(a){t.playNext(t.playNum+1)}}},[e("i",{staticClass:"icon ion-ios-fastforward"})])]),t._v(" "),e("div",{staticClass:"player-section player-seek"},[e("div",{ref:"seekWrap",staticClass:"player-seek-bar-wrap",on:{click:function(a){t.progressChange(a)}}},[e("div",{ref:"playerSeekBar",staticClass:"player-seek-bar"},[e("div",{staticClass:"player-seek-duration-bar",style:{width:t.durationBar+"%"}},[e("div",{staticClass:"player-seek-handle",on:{mousdown:function(a){t.progressChange(a)}}})])])]),t._v(" "),e("div",{staticClass:"player-time"},[e("span",[t._v(t._s(t.currentTime))]),t._v(" "),e("span",{staticClass:"player-time-divider"},[t._v("/")]),t._v(" "),e("span",[t._v(t._s(t.duration))])])]),t._v(" "),e("div",{staticClass:"player-section"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),e("div",{staticClass:"player-volume"},[e("div",{staticClass:"player-seek-bar-wrap"},[e("div",{staticClass:"player-seek-bar"},[e("div",{staticClass:"player-seek-duration-bar",style:{width:t.durationBar}},[e("div",{staticClass:"player-seek-handle"})])])])])])])])])},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"player-button"},[e("i",{staticClass:"icon ion-loop"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"player-button"},[e("i",{staticClass:"icon ion-shuffle"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"player-button top-right popover"},[e("i",{staticClass:"icon ion-android-list"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"player-button player-volume-button"},[e("div",{staticClass:"player-volume-button-wrap"},[e("i",{staticClass:"icon ion-android-volume-up"}),t._v(" "),e("i",{staticClass:"icon ion-android-volume-mute"})])])}]}},function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[e("Card"),t._v(" "),e("Spinner")],1)},staticRenderFns:[]}},function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"toolbar"},[e("div",{staticClass:"container"},[e("div",{staticClass:"toolbar-items"},[e("router-link",{staticClass:"toolbar-item toolbar-genre",class:{"router-link-active":"chill"===t.typeNow},attrs:{to:"/songs/chill"}},[t._v("悠然")]),t._v(" "),e("router-link",{staticClass:"toolbar-item toolbar-genre",attrs:{to:"/songs/deep"}},[t._v("深邃")]),t._v(" "),e("router-link",{staticClass:"toolbar-item toolbar-genre",attrs:{to:"/songs/dubstep"}},[t._v("贝斯")]),t._v(" "),e("router-link",{staticClass:"toolbar-item toolbar-genre",attrs:{to:"/songs/house"}},[t._v("舞曲")]),t._v(" "),e("router-link",{staticClass:"toolbar-item toolbar-genre",attrs:{to:"/songs/progressive"}},[t._v("亢奋")]),t._v(" "),e("router-link",{staticClass:"toolbar-item toolbar-genre",attrs:{to:"/songs/tech"}},[t._v("质感")]),t._v(" "),e("router-link",{staticClass:"toolbar-item toolbar-genre",attrs:{to:"/songs/trance"}},[t._v("迷幻")]),t._v(" "),e("router-link",{staticClass:"toolbar-item toolbar-genre",attrs:{to:"/songs/tropical"}},[t._v("舒适")]),t._v(" "),t._m(0)],1)])])},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"toolbar-item toolbar-filter toolbar-times"},[e("i",{staticClass:"icon ion-funnel"}),t._v(" "),e("a",{staticClass:"toolbar-time ",attrs:{href:"/#/songs?q=chill&t=7",title:""}},[t._v("7 days")]),t._v(" "),e("a",{staticClass:"toolbar-time ",attrs:{href:"/#/songs?q=chill&t=30",title:""}},[t._v("30 days")]),t._v(" "),e("a",{staticClass:"toolbar-time ",attrs:{href:"/#/songs?q=chill&t=90",title:""}},[t._v("90 days")])])}]}},function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("CNav"),t._v(" "),e("div",{staticClass:"songs"},[e("Toolbar"),t._v(" "),e("div",{staticClass:"container"},[e("router-view")],1)],1),t._v(" "),e("Player")],1)},staticRenderFns:[]}},function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"songs-row grid",attrs:{"infinite-scroll-disabled":"scrollLoading","infinite-scroll-distance":"10","infinite-scroll-immediate-check":"false"}},t._l(t.cardList,function(a,s){return e("div",{staticClass:"col-1-5 clearfix",attrs:{index:s}},[e("div",{staticClass:"card song-card"},[e("div",{staticClass:"song-card-image",style:{backgroundImage:"url("+a.artwork_url+")"},on:{click:function(a){t.tooglePlay(s)}}},[e("div",{staticClass:"toggle-play-button",class:{active:a.isActive,"is-playing":a.isPlaying}},[e("i",{staticClass:"toggle-play-button-icon ion-ios-play"}),t._v(" "),e("i",{staticClass:"toggle-play-button-icon ion-radio-waves"})])]),t._v(" "),e("div",{staticClass:"song-card-user"},[e("img",{staticClass:"song-card-user-image",attrs:{alt:"user avatar",src:a.user.avatar_url}}),t._v(" "),e("div",{staticClass:"song-card-details"},[e("a",{staticClass:"song-card-title",attrs:{href:"/#/songs/160771494",title:a.title}},[t._v(t._s(a.title))]),t._v(" "),e("a",{staticClass:"song-card-user-username",attrs:{href:"/#/users/6433865",title:a.user.username}},[t._v(t._s(a.user.username))]),t._v(" "),t._m(0,!0)])])])])}))},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"song-heart song-card-heart popover "},[e("i",{staticClass:"icon ion-ios-heart"})])}]}},function(t,a){t.exports={render:function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"spinner-container"},[e("div",{staticClass:"spinner"},[e("div",{staticClass:"rect1"}),t._v(" "),e("div",{staticClass:"rect2"}),t._v(" "),e("div",{staticClass:"rect3"}),t._v(" "),e("div",{staticClass:"rect4"}),t._v(" "),e("div",{staticClass:"rect5"})])])}]}},function(t,a){t.exports={render:function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"nav"},[e("div",{staticClass:"container"},[e("div",{staticClass:"nav-logo"},[e("i",{staticClass:"icon ion-radio-waves"})]),t._v(" "),e("div",{staticClass:"nav-nav float-left"},[e("div",{staticClass:"nav-nav-item"},[e("a",{staticClass:"nav-nav-item-link active",attrs:{href:"/#/songs",title:""}},[t._v("Sound")])])]),t._v(" "),e("div",{staticClass:"nav-nav float-right"},[e("div",{staticClass:"nav-nav-item"},[e("div",{staticClass:"nav-search"},[e("i",{staticClass:"icon ion-search"}),t._v(" "),e("input",{staticClass:"nav-search-input",attrs:{type:"text",placeholder:"SEARCH"}})])]),t._v(" "),e("div",{staticClass:"nav-nav-item"},[e("div",{staticClass:"nav-user popover"},[e("div",{staticClass:"nav-user-link"},[e("i",{staticClass:"icon ion-person"}),t._v(" "),e("i",{staticClass:"icon ion-chevron-down"})])])])])])])}]}}],[43]);
//# sourceMappingURL=app.be5976eb93b7ac9c9ff7.js.map