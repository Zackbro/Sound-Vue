webpackJsonp([1],[,,,,,,,,,,,,function(t,a,e){"use strict";e.d(a,"h",function(){return i}),e.d(a,"f",function(){return s}),e.d(a,"k",function(){return n}),e.d(a,"n",function(){return r}),e.d(a,"j",function(){return o}),e.d(a,"g",function(){return c}),e.d(a,"i",function(){return l}),e.d(a,"m",function(){return u}),e.d(a,"l",function(){return d}),e.d(a,"e",function(){return v}),e.d(a,"b",function(){return p}),e.d(a,"a",function(){return f}),e.d(a,"c",function(){return m}),e.d(a,"d",function(){return h});var i="GET_DATA",s="FORMAT_RESPONSE",n="CHANGE_NEXT_DATA",r="FORMAT_IMG_URL",o="CHANGE_IMG_URL",c="GET_WIDTH",l="FORMAT_SONG_TITLE",u="RECOVER_SCROLL",d="GET_CURRENT_PAGE",v="CLEAR_DATA",p="GET_PLAY_NOW",f="GET_PLAYLIST",m="CHANGE_TO_PLAY",h="CHANGE_TO_PAUSE"},,,,,,,function(t,a,e){"use strict";var i=e(4),s=e(85),n=e(72),r=e.n(n);i.a.use(s.a),a.a=new s.a({routes:[{path:"/",name:"Home",component:r.a},{path:"/songs/:id",name:"Style",component:r.a}]})},function(t,a,e){"use strict";var i=e(4),s=e(3),n=e(43),r=(e.n(n),e(45)),o=(e.n(r),e(46)),c=e(47);i.a.use(s.b);a.a=new s.b.Store({actions:n,getters:r,modules:{card:o.a,player:c.a},strict:!1})},function(t,a){},,function(t,a,e){var i=e(1)(e(48),e(81),null,null);t.exports=i.exports},,,,,,,,,,,,,,,,,,,function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(4),s=e(23),n=e.n(s),r=e(19),o=e(20),c=e(22),l=e.n(c),u=e(21);e.n(u);i.a.use(l.a),i.a.config.productionTip=!1,new i.a({el:"#app",store:o.a,router:r.a,template:"<App/>",components:{App:n.a}})},function(t,a){},function(t,a,e){"use strict";e.d(a,"a",function(){return i}),e.d(a,"c",function(){return s}),e.d(a,"b",function(){return n});var i="https://api.soundcloud.com/tracks?linked_partitioning=1&client_id=e582b63d83a5fb2997d1dbf2f62705da&limit=40&offset=0",s="https://api.500px.com/v1/photos/search?term=",n={chill:"chill",deep:"deep",dubstep:"dubstep",house:"house",progressive:"progressive",tech:"tech",trance:"trance",tropical:"tropical"}},function(t,a){},function(t,a,e){"use strict";var i,s=e(13),n=e.n(s),r=e(12),o=e(44),c=e(24),l=e.n(c),u={cardList:[],nextHref:"",nextData:[],scrollLoading:!1,typeNow:"chill",width:10,formateList:[],currentPage:1},d={cardList:function(t){return t.cardList},scrollLoading:function(t){return t.scrollLoading},typeNow:function(t){return t.typeNow},formateList:function(t){return t.formateList}},v={getData:function(t,a){var e=t.commit;e(r.e,{type:a}),l.a.get(o.a+"&tags="+o.b[a]+"%20house").then(function(t){t.data.collection.forEach(function(t){e(r.f,{para:t})}),e(r.g,{width:t.data.collection.length}),e(r.h,{list:t.data.collection,href:t.data.next_href}),e(r.i)},function(t){console.log("请求出错")}).then(function(){l.a.get(o.c+o.b[a]+"&rpp=40&image_size=440&consumer_key=bSMgHdOHOQICt1q6gkNCumjh1hsLzkn9gmEZ3zcv").then(function(t){e(r.j,{imgData:t.data.photos})})})},loadMore:function(t){var a=t.commit;l.a.get(u.nextHref).then(function(t){t.data.collection.forEach(function(t){a(r.f,{para:t})}),a(r.g,{width:t.data.collection.length}),a(r.k,{data:t.data.collection,href:t.data.next_href})}).then(function(){a(r.l),l.a.get(o.c+u.typeNow+"&rpp=40&image_size=440&consumer_key=bSMgHdOHOQICt1q6gkNCumjh1hsLzkn9gmEZ3zcv&page="+u.currentPage).then(function(t){a(r.j,{imgData:t.data.photos})})})},loadStop:function(t){(0,t.commit)(r.m)},clear:function(t){(0,t.commit)(r.e)}},p=(i={},n()(i,r.f,function(t,a){var e=a.para;e.isActive=!1,e.isPlaying=!1,e.artwork_url="",e.user.avatar_url=""}),n()(i,r.l,function(t){t.currentPage++}),n()(i,r.h,function(t,a){var e=a.list,i=a.href;t.nextData=e,t.nextHref=i}),n()(i,r.i,function(t){t.nextData.forEach(function(t){if(!t.title)return"";var a=t.title.replace("–","-").split(" - ");t.title=a[a.length-1].split(" (")[0]})}),n()(i,r.j,function(t,a){for(var e=a.imgData,i=0;i<t.width;i++)t.nextData[i].artwork_url=e[i].image_url,t.nextData[i].user.avatar_url=e[i].image_url;t.cardList=t.cardList.concat(t.nextData)}),n()(i,r.g,function(t,a){var e=a.width;t.width=e}),n()(i,r.k,function(t,a){var e=a.data,i=a.href;t.nextData=e,t.nextHref=i,t.scrollLoading=!1}),n()(i,r.m,function(t){t.scrollLoading=!0}),n()(i,r.e,function(t,a){var e=a.type;t.cardList=[],t.typeNow=e}),n()(i,r.n,function(t){t.nextData.forEach(function(t){t.artwork_url&&(t.artwork_url=t.artwork_url.replace("large","t300x300"))})}),i);a.a={state:u,getters:d,actions:v,mutations:p}},function(t,a,e){"use strict";var i,s=e(13),n=e.n(s),r=e(12),o={playList:"",playNow:{user:{username:""}},playStatus:!1,activeNum:0},c={playStatus:function(t){return t.playStatus},playNow:function(t){return t.playNow}},l={getPlayData:function(t,a){var e=t.commit,i=t.rootState;e(r.a,{rootState:i}),e(r.b,{index:a})},play:function(t,a){var e=t.commit,i=t.rootState;e(r.c,{rootState:i,index:a})},pause:function(t){var a=t.commit,e=t.rootState;a(r.d,{rootState:e})}},u=(i={},n()(i,r.a,function(t,a){var e=a.rootState;t.playList=e.card.cardList}),n()(i,r.b,function(t,a){var e=a.index;t.playNow=t.playList[e]}),n()(i,r.c,function(t,a){var e=a.rootState,i=a.index;t.playStatus=!0,t.activeNum!==i||0===t.activeNum?(console.log(e.card.cardList[t.activeNum]),e.card.cardList[t.activeNum].isActive=!1,e.card.cardList[t.activeNum].isPlaying=!1,e.card.cardList[t.activeNum].isPlaying||(t.activeNum=i),e.card.cardList[i].isActive=!0,e.card.cardList[i].isPlaying=!0):e.card.cardList[i].isPlaying=!0}),n()(i,r.d,function(t,a){var e=a.rootState;t.playStatus=!1,e.card.cardList[t.activeNum].isPlaying=!1}),i);a.a={state:o,getters:c,actions:l,mutations:u}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(73),s=e.n(i),n=e(77),r=e.n(n),o=e(74),c=e.n(o);a.default={name:"app",components:{CNav:s.a,Toolbar:r.a,Player:c.a}}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(75),s=e.n(i),n=e(76),r=e.n(n);a.default={name:"hello",data:function(){return{type:"chill"}},watch:{$route:function(t,a){this.type=t.params.id,this.getData(this.type)}},mounted:function(){this.getData(this.type)},methods:{getData:function(t){this.$store.dispatch("getData",t)}},components:{Card:s.a,Spinner:r.a}}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(3);a.default={data:function(){return{playerShow:!1,currentTime:"00:00",duration:"00:00",playNum:0,clear:{},durationBar:0,barWidth:0,volumeDuration:50}},methods:{play:function(t){var a=this;this.$store.dispatch("play",t),this.$nextTick(function(){console.log("开始播放"),a.$refs.audio.play(),a.timeChange(),a.playNum=t,a.barWidth=a.$refs.playerSeekBar.offsetWidth}),this.playerShow||(this.playerShow=!0)},pause:function(t){this.$store.dispatch("pause"),this.$refs.audio.pause(),clearInterval(this.clear),console.log("暂停播放")},timeFormat:function(t){var a=parseInt(t/60),e=parseInt(t%60);return a=a>10?a:"0"+a,e=e>=10?e:"0"+e,a+":"+e},timeChange:function(){var t=this;this.clear=setInterval(function(){t.currentTime=t.timeFormat(t.$refs.audio.currentTime),isNaN(t.$refs.audio.duration)?t.duration="00:00":("00:00"===t.duration&&(t.duration=t.timeFormat(t.$refs.audio.duration)),t.durationBar=t.$refs.audio.currentTime/t.$refs.audio.duration*100,100===t.durationBar&&(clearInterval(t.clear),t.playNext(t.playNum+1)))},1e3)},progressChange:function(t){var a=void 0,e=void 0,i=void 0;a=this.$refs.playerSeekBar.offsetLeft,e=t.clientX,i=(e-a)/this.barWidth,this.$refs.audio.currentTime=this.$refs.audio.duration*i,this.currentTime=this.timeFormat(this.$refs.audio.currentTime),this.durationBar=this.$refs.audio.currentTime/this.$refs.audio.duration*100},playNext:function(t){this.playNum=t,this.$store.dispatch("getPlayData",t),this.play(t)},muteVolume:function(){this.$refs.audio.volume=0,this.volumeDuration=0},volumeChange:function(t){var a=void 0,e=void 0,i=void 0,s=void 0;a=this.$refs.volumeWrap.offsetWidth,e=this.$refs.volumeWrap.offsetLeft,i=t.clientX,s=(i-e)/a,this.$refs.audio.volume=s,this.volumeDuration=100*s}},computed:e.i(i.a)(["playNow","playStatus"])}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(3);a.default={data:function(){return{index:""}},methods:{loadMore:function(){this.$store.dispatch("loadStop"),this.$store.dispatch("loadMore")},playHandler:function(t){this.index=t,this.$store.dispatch("getPlayData",t),this.$parent.$parent.$children.forEach(function(a){a.$refs.audio&&a.play(t)})},pauseHandler:function(t){this.$parent.$parent.$children.forEach(function(a){a.$refs.audio&&a.pause(t)})},tooglePlay:function(t){this.$nextTick(function(){this.$store.state.player.playStatus&&this.index===t?this.pauseHandler(t):this.playHandler(t)})}},computed:e.i(i.a)(["cardList","scrollLoading","playStatus"])}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={}},function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e(3);a.default={computed:e.i(i.a)(["typeNow"])}},,,,,,,,,,,,,,,,,,function(t,a,e){var i=e(1)(e(49),e(79),null,null);t.exports=i.exports},function(t,a,e){var i=e(1)(e(50),e(84),null,null);t.exports=i.exports},function(t,a,e){var i=e(1)(e(51),e(78),null,null);t.exports=i.exports},function(t,a,e){var i=e(1)(e(52),e(82),null,null);t.exports=i.exports},function(t,a,e){var i=e(1)(e(53),e(83),null,null);t.exports=i.exports},function(t,a,e){var i=e(1)(e(54),e(80),null,null);t.exports=i.exports},function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.playerShow,expression:"playerShow"}],staticClass:"player"},[e("audio",{ref:"audio",attrs:{src:t.playNow.stream_url+"?client_id=e582b63d83a5fb2997d1dbf2f62705da"}}),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"player-main"},[e("div",{staticClass:"player-section player-info"},[e("img",{staticClass:"player-image",attrs:{alt:"song artwork",src:t.playNow.user.avatar_url}}),t._v(" "),e("div",{staticClass:"song-card-details"},[e("a",{staticClass:"song-card-title",attrs:{title:t.playNow.title}},[t._v(t._s(t.playNow.title))]),t._v(" "),e("a",{staticClass:"song-card-user-username",attrs:{title:"Lulleaux"}},[t._v(t._s(t.playNow.user.username))])])]),t._v(" "),e("div",{staticClass:"player-section"},[e("div",{staticClass:"player-button",on:{click:function(a){t.playNext(t.playNum-1)}}},[e("i",{staticClass:"icon ion-ios-rewind"})]),t._v(" "),e("div",{staticClass:"player-button"},[e("i",{directives:[{name:"show",rawName:"v-show",value:!t.playStatus,expression:"!playStatus"}],staticClass:"icon ion-ios-play",on:{click:function(a){t.play(t.playNum)}}}),t._v(" "),e("i",{directives:[{name:"show",rawName:"v-show",value:t.playStatus,expression:"playStatus"}],staticClass:"icon ion-ios-pause",on:{click:function(a){t.pause(t.playNum)}}})]),t._v(" "),e("div",{staticClass:"player-button",on:{click:function(a){t.playNext(t.playNum+1)}}},[e("i",{staticClass:"icon ion-ios-fastforward"})])]),t._v(" "),e("div",{staticClass:"player-section player-seek"},[e("div",{ref:"seekWrap",staticClass:"player-seek-bar-wrap",on:{click:function(a){t.progressChange(a)}}},[e("div",{ref:"playerSeekBar",staticClass:"player-seek-bar"},[e("div",{staticClass:"player-seek-duration-bar",style:{width:t.durationBar+"%"}},[e("div",{staticClass:"player-seek-handle",on:{mousdown:function(a){t.progressChange(a)}}})])])]),t._v(" "),e("div",{staticClass:"player-time"},[e("span",[t._v(t._s(t.currentTime))]),t._v(" "),e("span",{staticClass:"player-time-divider"},[t._v("/")]),t._v(" "),e("span",[t._v(t._s(t.duration))])])]),t._v(" "),e("div",{staticClass:"player-section"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),e("div",{staticClass:"player-button player-volume-button"},[e("div",{staticClass:"player-volume-button-wrap",on:{click:t.muteVolume}},[e("i",{staticClass:"icon ion-android-volume-up"}),t._v(" "),e("i",{staticClass:"icon ion-android-volume-mute"})])]),t._v(" "),e("div",{staticClass:"player-volume"},[e("div",{ref:"volumeWrap",staticClass:"player-seek-bar-wrap",on:{click:function(a){t.volumeChange(a)}}},[e("div",{staticClass:"player-seek-bar"},[e("div",{staticClass:"player-seek-duration-bar",style:{width:t.volumeDuration+"%"}},[e("div",{staticClass:"player-seek-handle"})])])])])])])])])},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"player-button"},[e("i",{staticClass:"icon ion-loop"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"player-button"},[e("i",{staticClass:"icon ion-shuffle"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"player-button top-right popover"},[e("i",{staticClass:"icon ion-android-list"})])}]}},function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[e("Card"),t._v(" "),e("Spinner")],1)},staticRenderFns:[]}},function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"toolbar"},[e("div",{staticClass:"container"},[e("div",{staticClass:"toolbar-items"},[e("router-link",{staticClass:"toolbar-item toolbar-genre",class:{"router-link-active":"chill"===t.typeNow},attrs:{to:"/songs/chill"}},[t._v("悠然")]),t._v(" "),e("router-link",{staticClass:"toolbar-item toolbar-genre",attrs:{to:"/songs/deep"}},[t._v("深邃")]),t._v(" "),e("router-link",{staticClass:"toolbar-item toolbar-genre",attrs:{to:"/songs/dubstep"}},[t._v("贝斯")]),t._v(" "),e("router-link",{staticClass:"toolbar-item toolbar-genre",attrs:{to:"/songs/house"}},[t._v("舞曲")]),t._v(" "),e("router-link",{staticClass:"toolbar-item toolbar-genre",attrs:{to:"/songs/progressive"}},[t._v("亢奋")]),t._v(" "),e("router-link",{staticClass:"toolbar-item toolbar-genre",attrs:{to:"/songs/tech"}},[t._v("质感")]),t._v(" "),e("router-link",{staticClass:"toolbar-item toolbar-genre",attrs:{to:"/songs/trance"}},[t._v("迷幻")]),t._v(" "),e("router-link",{staticClass:"toolbar-item toolbar-genre",attrs:{to:"/songs/tropical"}},[t._v("舒适")]),t._v(" "),t._m(0)],1)])])},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"toolbar-item toolbar-filter toolbar-times"},[e("i",{staticClass:"icon ion-funnel"}),t._v(" "),e("a",{staticClass:"toolbar-time ",attrs:{href:""}},[t._v("7 days")]),t._v(" "),e("a",{staticClass:"toolbar-time "},[t._v("30 days")]),t._v(" "),e("a",{staticClass:"toolbar-time "},[t._v("90 days")])])}]}},function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("CNav"),t._v(" "),e("div",{staticClass:"songs"},[e("Toolbar"),t._v(" "),e("div",{staticClass:"container"},[e("router-view")],1)],1),t._v(" "),e("Player")],1)},staticRenderFns:[]}},function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"songs-row grid",attrs:{"infinite-scroll-disabled":"scrollLoading","infinite-scroll-distance":"10","infinite-scroll-immediate-check":"false"}},t._l(t.cardList,function(a,i){return e("div",{staticClass:"col-1-5 clearfix",attrs:{index:i}},[e("div",{staticClass:"card song-card"},[e("div",{staticClass:"song-card-image",style:{backgroundImage:"url("+a.artwork_url+")"},on:{click:function(a){t.tooglePlay(i)}}},[e("div",{staticClass:"toggle-play-button",class:{active:a.isActive,"is-playing":a.isPlaying}},[e("i",{staticClass:"toggle-play-button-icon ion-ios-play"}),t._v(" "),e("i",{staticClass:"toggle-play-button-icon ion-radio-waves"})])]),t._v(" "),e("div",{staticClass:"song-card-user"},[e("img",{staticClass:"song-card-user-image",attrs:{alt:"user avatar",src:a.user.avatar_url}}),t._v(" "),e("div",{staticClass:"song-card-details"},[e("a",{staticClass:"song-card-title",attrs:{title:a.title}},[t._v(t._s(a.title))]),t._v(" "),e("a",{staticClass:"song-card-user-username",attrs:{title:a.user.username}},[t._v(t._s(a.user.username))]),t._v(" "),t._m(0,!0)])])])])}))},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"song-heart song-card-heart popover "},[e("i",{staticClass:"icon ion-ios-heart"})])}]}},function(t,a){t.exports={render:function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"spinner-container"},[e("div",{staticClass:"spinner"},[e("div",{staticClass:"rect1"}),t._v(" "),e("div",{staticClass:"rect2"}),t._v(" "),e("div",{staticClass:"rect3"}),t._v(" "),e("div",{staticClass:"rect4"}),t._v(" "),e("div",{staticClass:"rect5"})])])}]}},function(t,a){t.exports={render:function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"nav"},[e("div",{staticClass:"container"},[e("div",{staticClass:"nav-logo"},[e("i",{staticClass:"icon ion-radio-waves"})]),t._v(" "),e("div",{staticClass:"nav-nav float-left"},[e("div",{staticClass:"nav-nav-item"},[e("a",{staticClass:"nav-nav-item-link active",attrs:{href:"/#/songs",title:""}},[t._v("Sound")])])]),t._v(" "),e("div",{staticClass:"nav-nav float-right"},[e("div",{staticClass:"nav-nav-item"},[e("div",{staticClass:"nav-search"},[e("i",{staticClass:"icon ion-search"}),t._v(" "),e("input",{staticClass:"nav-search-input",attrs:{type:"text",placeholder:"SEARCH"}})])]),t._v(" "),e("div",{staticClass:"nav-nav-item"},[e("div",{staticClass:"nav-user popover"},[e("div",{staticClass:"nav-user-link"},[e("i",{staticClass:"icon ion-person"}),t._v(" "),e("i",{staticClass:"icon ion-chevron-down"})])])])])])])}]}}],[42]);
//# sourceMappingURL=app.69395590b61650538295.js.map